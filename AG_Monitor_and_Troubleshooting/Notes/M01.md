## Wait statistics

### HADR_SYNC_COMMIT  

Waiting for transaction commit processing for the synchronized secondary databases to harden the log. This wait is also reflected by the Transaction Delay performance counter. This wait type is expected for synchronized availability groups and indicates the time to send, write, and acknowledge log to the secondary databases. 

---

### HADR_CLUSAPI_CALL 

SQL Server thread is waiting to switch from non-preemptive mode (scheduled by SQL Server) to preemptive mode (scheduled by the operating system) in order to invoke Windows Server Failover Clustering APIs. 

---

### HADR_LOGCAPTURE_WAIT (on the primary replica)

The wait type **`HADR_LOGCAPTURE_WAIT`** in SQL Server is specific to **Always On Availability Groups** and relates to the log capture process on the **primary replica**. Here’s what it means and what it could indicate:

### ✅ **What It Is?**
- This wait occurs when the **log capture mechanism** (responsible for reading transaction log records and sending them to secondary replicas) is **waiting for new log records to become available**.
- It can also happen when the log capture thread is **reading from disk** because the required log records are not in the log cache.

### ✅ **Is It Normal?**
- **Yes, it’s an expected wait** when:
  - The log capture thread has caught up to the end of the log.
  - There is no new transaction activity.
- In these cases, the wait is benign and can usually be ignored.
  
### ✅ **When to Investigate**
If you see **high or sustained values** for `HADR_LOGCAPTURE_WAIT`, it might indicate:
1. **Transaction Log Issues**  
   - Slow log generation or delays in flushing log records to disk.
2. **I/O Bottlenecks**  
   - Disk latency on the primary replica can delay log capture.
3. **High Transaction Rate**  
   - Heavy workload generating logs faster than they can be processed.
4. **Secondary Replica Sync Problems**  
   - If secondaries frequently lose synchronization, this wait may correlate with other HADR waits like `HADR_SYNC_COMMIT`.
   
### ✅ **Troubleshooting Steps**
- Check **PerfMon counters** for Availability Groups (e.g., `Log Send Queue Size`, `Log Bytes Flushed/sec`).
- Review **SQL Server error logs** for I/O or Always On warnings.
- Use **DMVs** like `sys.dm_os_wait_stats` and `sys.dm_hadr_database_replica_states` to correlate with other waits.
- Investigate **disk performance** and **network latency** between replicas.
  
---

### HADR_SYNCHRONIZING_THROTTLE 

Waiting for transaction commit processing to allow a synchronizing secondary database to catch up to the primary end of log in order to transition to the synchronized state. This is an expected wait when a secondary database is catching up. 

### WRITELOG 

Occurs while waiting for a log flush to complete. Common operations that cause log flushes are checkpoints and transaction commits.
